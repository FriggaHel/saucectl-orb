description: >
  This command runs saucectl run.

parameters:
  saucectl_version:
    type: string
    default: "latest"
    description: "Version of saucectl to use. Example: v0.25.1"
  sauce_username:
    type: string
    description: Sauce Labs user name.
    default: ""
  sauce_access_key:
    type: string
    description: Sauce Labs API Key.
    default: ""
  working_directory:
    type: string
    description: Folder in-which saucectl will be run.
    default: .
  config-_ile:
    type: string
    description: Configuration file to use with saucectl
    default: .sauce/config.yml
  region:
    type: string
    description: Region to pass to saucectl.
    default: ""
  testing_environment:
    type: string
    description: Testing Environment
    default: docker
  skip_run:
    type: boolean
    description: Skip execution of saucectl (only install binary)
    default: false
  suite:
    type: string
    description: Suite to be tested
    default: ""
steps:
  - install
  - run:
      environment:
        PARAM_SAUCECTL_VERSION: <<parameters.saucectl_version>>
        PARAM_SAUCE_USERNAME: <<parameters.sauce_username>>
        PARAM_SAUCE_ACCESS_KEY: <<parameters.sauce_access_key>>
        PARAM_WORKING_DIRECTORY: <<parameters.working_directory>>
        PARAM_CONFIG_FILE: <<parameters.config_file>>
        PARAM_REGION: <<parameters.region>>
        PARAM_TESTING_ENVIRONMENT: <<parameters.testing_environment>>
        PARAM_SKIP_RUN: <<parameters.skip_run>>
        PARAM_SUITE: <<parameters.suite>>
      name: run saucectl
      command: <<include(scripts/run.sh)>>
